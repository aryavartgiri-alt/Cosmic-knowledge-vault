<!DOCTYPE html>
<html>
<head>
<title>Cosmic Knowledge Vault</title>

<style>
body {
  margin: 0;
  font-family: Arial;
  color: cyan;
  background: black;
  overflow-x: hidden;
}

/* üåå Animated Stars */
body::before {
  content: "";
  position: fixed;
  width: 200%;
  height: 200%;
  background: radial-gradient(white 1px, transparent 1px);
  background-size: 50px 50px;
  animation: moveStars 60s linear infinite;
  opacity: 0.2;
}

@keyframes moveStars {
  from { transform: translate(0,0); }
  to { transform: translate(-500px,-500px); }
}

h1 {
  text-align: center;
  margin-top: 20px;
}

input, textarea {
  width: 100%;
  margin: 8px 0;
  padding: 10px;
  background: #111;
  border: 1px solid cyan;
  color: cyan;
}

button {
  padding: 10px;
  background: cyan;
  border: none;
  cursor: pointer;
  font-weight: bold;
}

.card {
  border: 1px solid cyan;
  padding: 10px;
  margin-top: 10px;
  background: rgba(0,0,0,0.6);
}
</style>


</head>
<body>

<h1>üöÄ Cosmic Knowledge Vault</h1>

<input id="title" placeholder="Book / Topic Title">
<input id="category" placeholder="Category (Black Holes / VLSI / IoT)">
<textarea id="learn" placeholder="What did you learn?"></textarea>
<input type="file" id="pdfFile">

<button onclick="addData()">Add To Vault</button>

<hr>

<input id="search" placeholder="Search..." onkeyup="displayData()">

<div id="vault"></div>

<script>
let vaultData = JSON.parse(localStorage.getItem("vaultData")) || [];

function addData() {
  let title = document.getElementById("title").value;
  let category = document.getElementById("category").value;
  let learn = document.getElementById("learn").value;
  let fileInput = document.getElementById("pdfFile");
  let fileName = fileInput.files[0] ? fileInput.files[0].name : "";

  let entry = { title, category, learn, fileName };
  vaultData.push(entry);

  localStorage.setItem("vaultData", JSON.stringify(vaultData));

  displayData();
}

function displayData() {
  let search = document.getElementById("search").value.toLowerCase();
  let vault = document.getElementById("vault");
  vault.innerHTML = "";

  vaultData.forEach((item) => {
    if (
      item.title.toLowerCase().includes(search) ||
      item.category.toLowerCase().includes(search)
    ) {
      vault.innerHTML += `
        <div class="card">
          <h3>${item.title}</h3>
          <p><b>Category:</b> ${item.category}</p>
          <p>${item.learn}</p>
          <p><b>PDF:</b> ${item.fileName}</p>
        </div>
      `;
    }
  });
}

displayData();
</script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  import { getFirestore, collection, addDoc } 
  from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCVbEzFIE_fraxifo2Y-0_jsyJYCeZW_VQ",
    authDomain: "cosmic-knowledge-vault.firebaseapp.com",
    projectId: "cosmic-knowledge-vault",
    storageBucket: "cosmic-knowledge-vault.firebasestorage.app",
    messagingSenderId: "89339424882",
    appId: "1:89339424882:web:11acfb7b0ebcff482a92eb"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  async function testConnection() {
    try {
      await addDoc(collection(db, "test"), {
        message: "Firebase connected successfully üöÄ",
        time: new Date()
      });

      document.body.innerHTML += 
        "<h2 style='color:green'>‚úÖ Firestore Connected!</h2>";

    } catch (error) {
      document.body.innerHTML += 
        "<h2 style='color:red'>‚ùå Firestore Connection Failed</h2>";
    }
  }

  testConnection();
</script>
</body>
</html>



